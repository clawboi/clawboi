<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CLAWBOI</title>

<style>
body{
  margin:0;
  background:#000;
  color:#fff;
  font-family:Helvetica,Arial,sans-serif;
  overflow-x:hidden;
}

/* header */
header{
  position:fixed;
  top:0; left:0;
  width:100%;
  padding:18px 30px;
  display:flex;
  justify-content:center;
  gap:40px;
  background:rgba(0,0,0,.6);
  backdrop-filter:blur(8px);
  z-index:1000;
}

header a{
  color:#fff;
  text-decoration:none;
  letter-spacing:.25em;
  font-size:12px;
  opacity:.8;
  transition:.25s;
}
header a:hover{
  opacity:1;
  color:#b026ff;
}

/* hero */
.hero{
  height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  padding:0 18px;
}

.logo{
  font-size:clamp(48px,9vw,110px);
  letter-spacing:.25em;
  animation:glow 4s ease-in-out infinite alternate;
}
@keyframes glow{
  from{ text-shadow:0 0 10px #8a2eff,0 0 30px #8a2eff;}
  to{ text-shadow:0 0 25px #d580ff,0 0 60px #8a2eff;}
}

.section{
  padding:120px 20px 80px;
  text-align:center;
}

.h2{
  letter-spacing:.35em;
  font-size:12px;
  opacity:.7;
  margin-bottom:30px;
}

/* Latest Release box */
.releaseBox{
  display:flex;
  gap:26px;
  align-items:center;
  border:1px solid rgba(255,255,255,.12);
  border-radius:26px;
  padding:24px;
  max-width:640px;
  margin:auto;
  background:rgba(255,255,255,.02);
}

.cover{
  width:160px;
  height:160px;
  object-fit:cover;
  border-radius:18px;
  box-shadow:0 0 40px rgba(138,46,255,.25);
}

.releaseInfo{
  display:flex;
  flex-direction:column;
  gap:18px;
  text-align:left;
}

.songTitle{
  font-size:18px;
  letter-spacing:.18em;
  text-transform:uppercase;
}

.player{
  filter:invert(1);
  width:260px;
}

.playBtn{
  display:inline-block;
  padding:14px 20px;
  border-radius:18px;
  border:1px solid rgba(138,46,255,.8);
  background:rgba(138,46,255,.12);
  letter-spacing:.22em;
  font-size:12px;
  text-transform:uppercase;
  color:white;
  text-decoration:none;
  transition:.25s;
}

.playBtn:hover{
  background:#8a2eff;
  box-shadow:0 0 25px #8a2eff;
}

/* Video feed */
.videoFeed{
  max-width:920px;
  margin:60px auto 0;
  display:grid;
  gap:22px;
}

.videoCard{
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.02);
  border-radius:22px;
  overflow:hidden;
}

.videoFrame{
  width:100%;
  aspect-ratio:16/9;
  background:#050505;
  position:relative;
}

/* lightweight placeholder while loading */
.videoFrame::after{
  content:"LOADING";
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  letter-spacing:.35em;
  font-size:11px;
  color:rgba(255,255,255,.45);
  text-transform:uppercase;
}

.videoMeta{
  padding:14px 16px 16px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:14px;
}

.videoTitle{
  font-size:12px;
  letter-spacing:.22em;
  text-transform:uppercase;
  color:rgba(255,255,255,.82);
}

.ytLink{
  font-size:11px;
  letter-spacing:.22em;
  text-transform:uppercase;
  color:rgba(255,255,255,.65);
  border-bottom:1px solid transparent;
  padding-bottom:6px;
  text-decoration:none;
}
.ytLink:hover{
  color:#fff;
  border-bottom-color:#8a2eff;
}

/* Single lyric */
.lyric{
  margin:120px auto;
  max-width:700px;
  font-size:22px;
  letter-spacing:.08em;
  opacity:.85;
  text-align:center;
}

/* Follow */
.follow{
  margin-bottom:140px;
  text-align:center;
}
.follow a{
  display:inline-block;
  padding:18px 28px;
  border-radius:30px;
  border:1px solid #8a2eff;
  text-decoration:none;
  color:white;
  letter-spacing:.25em;
  font-size:12px;
  transition:.25s;
}
.follow a:hover{
  background:#8a2eff;
  box-shadow:0 0 30px #8a2eff;
}

/* mobile */
@media(max-width:650px){
  .releaseBox{ flex-direction:column; text-align:center; }
  .player{ width:100%; }
  .releaseInfo{ text-align:center; }
}
</style>
</head>

<body>

<!-- NAV: visuals tab removed -->
<header>
  <a href="listen.html">LISTEN</a>
  <a href="shop.html">SHOP</a>
  <a href="follow.html">FOLLOW</a>
</header>

<section class="hero">
  <div class="logo">CLAWBOI</div>
</section>

<section class="section">

  <div class="h2">LATEST RELEASE</div>

  <div class="releaseBox">
    <img src="images/cover.jpg" class="cover" alt="Cover art">

    <div class="releaseInfo">
      <div class="songTitle">YOUR SONG TITLE</div>

      <audio controls class="player">
        <source src="audio/song.mp3" type="audio/mpeg">
      </audio>

      <a href="listen.html" class="playBtn">PLAY ME</a>
    </div>
  </div>

  <div class="h2" style="margin-top:70px;">VIDEOS</div>

  <!-- VIDEO FEED -->
  <div class="videoFeed">

    <!-- Replace VIDEO_ID_HERE with your YouTube video ID -->
    <div class="videoCard" data-youtube-id="VIDEO_ID_HERE">
      <div class="videoFrame"></div>
      <div class="videoMeta">
        <div class="videoTitle">Music Video 01</div>
        <a class="ytLink" href="https://www.youtube.com/watch?v=VIDEO_ID_HERE" target="_blank" rel="noopener">OPEN</a>
      </div>
    </div>

    <div class="videoCard" data-youtube-id="VIDEO_ID_HERE_2">
      <div class="videoFrame"></div>
      <div class="videoMeta">
        <div class="videoTitle">Music Video 02</div>
        <a class="ytLink" href="https://www.youtube.com/watch?v=VIDEO_ID_HERE_2" target="_blank" rel="noopener">OPEN</a>
      </div>
    </div>

    <div class="videoCard" data-youtube-id="VIDEO_ID_HERE_3">
      <div class="videoFrame"></div>
      <div class="videoMeta">
        <div class="videoTitle">Music Video 03</div>
        <a class="ytLink" href="https://www.youtube.com/watch?v=VIDEO_ID_HERE_3" target="_blank" rel="noopener">OPEN</a>
      </div>
    </div>

  </div>

</section>

<div class="lyric">
  “I tried everything but nothing’s fixing me”
</div>

<div class="follow">
  <a href="follow.html">FOLLOW FOR MORE</a>
</div>

<script>
/*
  FAST AUTOPLAY VIDEO FEED
  - Lazy loads iframes only when near viewport
  - Autoplay muted (required by browsers)
  - Loops by using playlist=id
*/

function buildIframe(id){
  const src =
    "https://www.youtube.com/embed/" + encodeURIComponent(id) +
    "?autoplay=1&mute=1&playsinline=1&controls=0&rel=0&modestbranding=1" +
    "&loop=1&playlist=" + encodeURIComponent(id);

  const iframe = document.createElement("iframe");
  iframe.src = src;
  iframe.setAttribute("title","YouTube video player");
  iframe.setAttribute("frameborder","0");
  iframe.setAttribute("allow","autoplay; encrypted-media; picture-in-picture");
  iframe.setAttribute("allowfullscreen","");
  iframe.style.width = "100%";
  iframe.style.height = "100%";
  return iframe;
}

const cards = Array.from(document.querySelectorAll(".videoCard"));

const io = new IntersectionObserver((entries) => {
  entries.forEach(ent => {
    const card = ent.target;
    const frame = card.querySelector(".videoFrame");
    const id = card.getAttribute("data-youtube-id");

    if(!id) return;

    if(ent.isIntersecting){
      // Load only once
      if(!frame.querySelector("iframe")){
        frame.innerHTML = "";
        frame.appendChild(buildIframe(id));
      }
    } else {
      // Optional: unload when offscreen to save CPU on phones
      // Comment this out if you want them to keep playing.
      frame.innerHTML = "";
    }
  });
}, { rootMargin: "300px 0px 300px 0px", threshold: 0.01 });

cards.forEach(c => io.observe(c));
</script>

</body>
</html>

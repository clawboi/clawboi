<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Random Pages — CLAWBOI</title>

<style>
:root{
  --bg:#070707;
  --fg:#fff;
  --muted:rgba(255,255,255,.72);
  --hair:rgba(255,255,255,.10);
  --violet:#8a2eff;
  --cyan:#00ffd5;
  --max:1100px;
  --sans:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--fg);
  font-family:var(--sans);
  overflow-x:hidden;
  position:relative;
  isolation:isolate;
}

/* same clawboi atmosphere */
body::before{
  content:"";
  position:fixed;
  inset:-20%;
  pointer-events:none;
  z-index:-3;
  background:
    radial-gradient(circle at 18% 18%, rgba(138,46,255,.20), transparent 60%),
    radial-gradient(circle at 78% 28%, rgba(138,46,255,.14), transparent 65%),
    radial-gradient(circle at 55% 88%, rgba(138,46,255,.12), transparent 70%),
    radial-gradient(circle at 68% 72%, rgba(0,255,213,.07), transparent 70%);
  mix-blend-mode:screen;
  filter:blur(14px) saturate(1.2);
  animation:breath 18s ease-in-out infinite;
}
@keyframes breath{
  0%,100%{opacity:1; transform:translate3d(0,0,0)}
  50%{opacity:.45; transform:translate3d(0.8%,-0.6%,0)}
}

/* subtle texture/vignette */
body::after{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:-2;
  background:
    radial-gradient(1200px 900px at 50% 40%, rgba(0,0,0,0) 0%, rgba(0,0,0,.35) 70%, rgba(0,0,0,.60) 100%),
    repeating-radial-gradient(circle at 20% 24%,
      rgba(255,255,255,.028) 0 1px,
      transparent 1px 7px),
    repeating-linear-gradient(0deg,
      rgba(255,255,255,.016) 0 1px,
      transparent 1px 4px);
  mix-blend-mode:overlay;
  opacity:.55;
}

a{color:#fff;text-decoration:none}

/* NAV (kept similar) */
header{
  position:fixed;
  top:0;left:0;width:100%;
  display:flex;justify-content:center;gap:30px;
  background:rgba(0,0,0,.55);
  backdrop-filter:blur(10px);
  padding:14px 16px;
  z-index:10;
  border-bottom:1px solid rgba(255,255,255,.06);
}
header a{
  font-size:12px;
  letter-spacing:.25em;
  text-transform:uppercase;
  opacity:.85;
}
header a:hover{opacity:1}

/* WRAP */
.wrap{
  max-width:var(--max);
  margin:auto;
  padding:84px 18px 100px;
  position:relative;
  z-index:1;
}

/* TOP */
.top{
  display:flex;
  justify-content:space-between;
  align-items:flex-end;
  gap:14px;
  flex-wrap:wrap;
  margin:6px 0 18px;
}
.h1{
  margin:0;
  font-size:clamp(24px,4vw,42px);
  letter-spacing:.22em;
  text-transform:uppercase;
  text-shadow:0 0 18px rgba(138,46,255,.22);
}
.sub{
  margin:8px 0 0;
  font-size:12px;
  letter-spacing:.16em;
  text-transform:uppercase;
  opacity:.62;
  line-height:1.55;
  max-width:70ch;
}

/* CONTROLS */
.controls{
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
}
.pill{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.03);
  padding:10px 14px;
  border-radius:999px;
  font-size:11px;
  letter-spacing:.18em;
  text-transform:uppercase;
  color:#fff;
  opacity:.9;
}
button.pill{
  cursor:pointer;
  transition:.2s;
}
button.pill:hover{
  transform:translateY(-1px);
  background:rgba(138,46,255,.08);
  border-color:rgba(138,46,255,.18);
}
.pill.violet{
  background:rgba(138,46,255,.10);
  border-color:rgba(138,46,255,.20);
}
.input{
  border:1px solid rgba(255,255,255,.12);
  background:rgba(0,0,0,.35);
  backdrop-filter: blur(8px);
  color:#fff;
  border-radius:999px;
  padding:10px 12px;
  font-size:12px;
  letter-spacing:.10em;
  outline:none;
  width:min(240px, 70vw);
}
.input::placeholder{color:rgba(255,255,255,.45); letter-spacing:.12em; text-transform:uppercase}

/* STAGE */
.stage{
  position:relative;
  border-radius:28px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.08);
  background:rgba(255,255,255,.02);
  box-shadow: 0 0 0 1px rgba(138,46,255,.06) inset;
}

/* subtle star noise (no floating, no big motion) */
#stars{
  position:absolute; inset:0;
  width:100%; height:100%;
  pointer-events:none;
  opacity:.85;
}

/* GRID */
.grid{
  position:relative;
  z-index:2;
  padding:16px;
  display:grid;
  gap:14px;
  grid-template-columns: repeat(4, minmax(0,1fr));
}
@media(max-width:980px){ .grid{grid-template-columns:repeat(3,1fr)} }
@media(max-width:720px){ .grid{grid-template-columns:repeat(2,1fr)} }
@media(max-width:420px){ .grid{grid-template-columns:1fr} }

.card{
  border-radius:22px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.38);
  backdrop-filter: blur(10px);
  box-shadow: 0 16px 44px rgba(0,0,0,.45), 0 0 0 1px rgba(138,46,255,.05) inset;
  transform:translate3d(0,0,0);
  transition: filter .18s ease, transform .18s ease, border-color .18s ease;
  user-select:none;
  -webkit-tap-highlight-color: transparent;
}
.card:hover{
  filter:brightness(1.06);
  border-color:rgba(138,46,255,.18);
}
.card:active{transform:scale(.99)}

.cover{
  position:relative;
  background:#0b0b10;
  aspect-ratio: 3/4;
  display:grid;
  place-items:center;
  padding:10px;
}
.cover canvas{
  width:100%;
  height:100%;
  image-rendering:pixelated;
  image-rendering:crisp-edges;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.10);
  background:#07070b;
  box-shadow: 0 0 0 1px rgba(0,0,0,.25) inset;
}

.meta{
  padding:12px 12px 14px;
}
.title{
  margin:0;
  font-size:12px;
  letter-spacing:.20em;
  text-transform:uppercase;
}
.desc{
  margin:8px 0 0;
  font-size:12px;
  opacity:.70;
  line-height:1.45;
}
.row{
  margin-top:12px;
  display:flex;
  justify-content:space-between;
  gap:10px;
  align-items:center;
}
.badge{
  font-size:10px;
  letter-spacing:.18em;
  text-transform:uppercase;
  padding:7px 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.03);
  opacity:.88;
}
.badge.v{border-color:rgba(138,46,255,.22); background:rgba(138,46,255,.08)}
.badge.c{border-color:rgba(0,255,213,.18); background:rgba(0,255,213,.06)}

.foot{
  margin-top:14px;
  text-align:center;
  font-size:11px;
  letter-spacing:.18em;
  text-transform:uppercase;
  opacity:.55;
  padding-bottom:4px;
}
</style>
</head>

<body>
<header>
  <a href="index.html">HOME</a>
  <a href="listen.html">LISTEN</a>
  <a href="shop.html">SHOP</a>
  <a href="follow.html">FOLLOW</a>
</header>

<main class="wrap">
  <div class="top">
    <div>
      <h1 class="h1">RANDOM PAGES</h1>
      <p class="sub">A 54-card deck of side-realms. Shuffle the draw. Type a number to open a card instantly.</p>
    </div>

    <div class="controls">
      <span class="pill violet" id="modePill">SHOW: 4</span>
      <button class="pill" id="modeBtn">1 / 4 / 12 / 54</button>
      <button class="pill" id="shuffleBtn">SHUFFLE</button>
      <input class="input" id="jumpInput" placeholder="type card # (1–54) + enter" inputmode="numeric" />
    </div>
  </div>

  <section class="stage" id="stage">
    <canvas id="stars"></canvas>
    <div class="grid" id="grid"></div>
  </section>

  <div class="foot" id="foot">Enter a number to open a page. If a page doesn’t exist yet, it’ll still route there so you can build it later.</div>
</main>

<script>
/* =========================================================
   54-CARD DECK (no images, fast)
   - Card 01 = mystery.html
   - Card 02 = trapped.html
   - The rest are placeholders like card03.html ... card54.html
   Rename later freely.
========================================================= */

const deck = [];
for(let i=1;i<=54;i++){
  const n = String(i).padStart(2,"0");
  let href = `card${n}.html`;          // placeholders you can create later
  let title = `CARD ${n}`;
  let desc  = `A sealed door (${n}).`;

  if(i===1){ href="mystery.html"; title="MYSTERY"; desc="Realm hopper. Buttons do things."; }
  if(i===2){ href="trapped.html"; title="TRAPPED"; desc="A page that watches you back."; }

  // sprinkle a little flavor without forcing you into titles
  const flavors = [
    "signal", "liminal", "oracle", "glitch", "dream", "void",
    "mirror", "door", "radio", "rift", "archive", "myth"
  ];
  const f = flavors[i % flavors.length];
  deck.push({
    i,
    id: i,
    href,
    title,
    desc,
    tag: (i%2===0) ? "violet" : "cyan",
    flavor: f
  });
}

/* =========================================================
   UI: show modes (1 / 4 / 12 / 54), shuffle, jump-to
========================================================= */

const grid = document.getElementById("grid");
const modeBtn = document.getElementById("modeBtn");
const modePill = document.getElementById("modePill");
const shuffleBtn = document.getElementById("shuffleBtn");
const jumpInput = document.getElementById("jumpInput");
const foot = document.getElementById("foot");

const modes = [1,4,12,54];
let modeIndex = 1; // default show 4
let showCount = modes[modeIndex];

function setMode(idx){
  modeIndex = idx % modes.length;
  showCount = modes[modeIndex];
  modePill.textContent = `SHOW: ${showCount}`;
  // adjust grid columns slightly by count (keeps it clean)
  if(showCount === 1) grid.style.gridTemplateColumns = "minmax(0, 420px)";
  else if(showCount === 4) grid.style.gridTemplateColumns = "repeat(4, minmax(0,1fr))";
  else if(showCount === 12) grid.style.gridTemplateColumns = "repeat(4, minmax(0,1fr))";
  else grid.style.gridTemplateColumns = "repeat(6, minmax(0,1fr))";
  draw();
}

modeBtn.onclick = ()=> setMode(modeIndex+1);

shuffleBtn.onclick = ()=>{
  // Fisher-Yates shuffle
  for(let i=deck.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [deck[i], deck[j]] = [deck[j], deck[i]];
  }
  foot.textContent = "Deck shuffled. The draw changed.";
  draw();
};

jumpInput.addEventListener("keydown",(e)=>{
  if(e.key !== "Enter") return;
  const v = (jumpInput.value||"").trim();
  const num = parseInt(v,10);
  if(!Number.isFinite(num) || num<1 || num>54){
    foot.textContent = "Type a number from 1 to 54.";
    return;
  }
  const card = deck.find(d=>d.id===num) || {href:`card${String(num).padStart(2,"0")}.html`};
  location.href = card.href;
});

/* =========================================================
   Pixel Tarot Generator (no assets)
   - Draws a “tarot card” cover in pixels on a small canvas,
     scaled up with image-rendering: pixelated.
   - Deterministic per card number (seeded)
========================================================= */

function mulberry32(a){
  return function(){
    let t = a += 0x6D2B79F5;
    t = Math.imul(t ^ (t>>>15), t | 1);
    t ^= t + Math.imul(t ^ (t>>>7), t | 61);
    return ((t ^ (t>>>14)) >>> 0) / 4294967296;
  };
}

function hexToRgb(hex){
  const h = hex.replace("#","");
  const n = parseInt(h,16);
  return {r:(n>>16)&255, g:(n>>8)&255, b:n&255};
}

function drawTarot(canvas, card){
  // low-res canvas for pixel aesthetic
  const W = 72, H = 96;
  canvas.width = W;
  canvas.height = H;

  const ctx = canvas.getContext("2d");
  ctx.imageSmoothingEnabled = false;

  const seed = 1000 + card.id*1337;
  const rnd = mulberry32(seed);

  // palette
  const violet = hexToRgb("#8a2eff");
  const cyan   = hexToRgb("#00ffd5");
  const white  = {r:255,g:255,b:255};

  // base background
  ctx.fillStyle = "rgb(7,7,11)";
  ctx.fillRect(0,0,W,H);

  // border frame (tarot-ish)
  ctx.fillStyle = "rgba(255,255,255,.12)";
  ctx.fillRect(2,2,W-4,1);
  ctx.fillRect(2,H-3,W-4,1);
  ctx.fillRect(2,2,1,H-4);
  ctx.fillRect(W-3,2,1,H-4);

  // inner frame glow
  ctx.fillStyle = `rgba(138,46,255,${0.08 + rnd()*0.08})`;
  ctx.fillRect(4,6,W-8,H-12);

  // noisy nebula pixels (subtle)
  for(let i=0;i<520;i++){
    const x = (rnd()*W)|0;
    const y = (rnd()*H)|0;
    const a = rnd()*0.10;
    const useV = rnd()<0.65;
    ctx.fillStyle = useV ? `rgba(138,46,255,${a})` : `rgba(0,255,213,${a*0.7})`;
    ctx.fillRect(x,y,1,1);
  }

  // central sigil area
  const cx = (W/2)|0;
  const cy = (H/2)|0;

  // pick a sigil type
  const sig = card.id % 6;

  ctx.fillStyle = "rgba(0,0,0,.35)";
  ctx.fillRect(10,14,W-20,H-28);

  // glyph strokes in pixels
  const stroke = (use, a=0.65)=>{
    const col = use==="v" ? violet : (use==="c" ? cyan : white);
    return `rgba(${col.r},${col.g},${col.b},${a})`;
  };

  // draw a “tarot” symbol
  ctx.fillStyle = stroke(card.tag==="violet" ? "v":"c", 0.72);

  function px(x,y,w=1,h=1){ ctx.fillRect(x|0,y|0,w|0,h|0); }

  // corners ornaments
  ctx.fillStyle = "rgba(255,255,255,.18)";
  px(6,6,3,1); px(6,6,1,3);
  px(W-9,6,3,1); px(W-7,6,1,3);
  px(6,H-9,3,1); px(6,H-7,1,3);
  px(W-9,H-9,3,1); px(W-7,H-9,1,3);

  // main symbol
  ctx.fillStyle = stroke(card.tag==="violet" ? "v":"c", 0.75);

  if(sig===0){
    // eye
    for(let x=-18;x<=18;x++){
      const y = Math.round((x*x)/60);
      px(cx+x, cy-y, 1, 1);
      px(cx+x, cy+y, 1, 1);
    }
    ctx.fillStyle = "rgba(255,255,255,.65)";
    px(cx-1,cy-1,3,3);
    ctx.fillStyle = stroke(card.tag==="violet"?"v":"c",0.9);
    px(cx,cy,1,1);
  }else if(sig===1){
    // moon + ring
    for(let a=0;a<360;a+=8){
      const rad = a*Math.PI/180;
      px(cx+Math.cos(rad)*16, cy+Math.sin(rad)*16, 1,1);
    }
    ctx.fillStyle = "rgba(255,255,255,.55)";
    for(let a=0;a<360;a+=10){
      const rad = a*Math.PI/180;
      px(cx+Math.cos(rad)*10, cy+Math.sin(rad)*10, 1,1);
    }
    ctx.fillStyle = stroke(card.tag==="violet"?"v":"c",0.85);
    px(cx-4,cy-6,8,12);
  }else if(sig===2){
    // ladder/door
    ctx.fillStyle = stroke("w",0.35);
    px(cx-10,cy-18,20,36);
    ctx.fillStyle = stroke(card.tag==="violet"?"v":"c",0.78);
    px(cx-8,cy-16,16,32);
    ctx.fillStyle = "rgba(0,0,0,.35)";
    px(cx-2,cy-2,4,10);
    ctx.fillStyle = "rgba(255,255,255,.55)";
    px(cx+5,cy+3,1,1);
  }else if(sig===3){
    // crown
    ctx.fillStyle = stroke(card.tag==="violet"?"v":"c",0.78);
    px(cx-18,cy+10,36,2);
    px(cx-16,cy+6,4,4);
    px(cx-2,cy-2,4,12);
    px(cx+12,cy+6,4,4);
    px(cx-10,cy+2,4,4);
    px(cx+6,cy+2,4,4);
    ctx.fillStyle = "rgba(255,255,255,.6)";
    px(cx-14,cy+5,1,1); px(cx,cy-1,1,1); px(cx+14,cy+5,1,1);
  }else if(sig===4){
    // tree / roots (Sophia universe wink)
    ctx.fillStyle = stroke(card.tag==="violet"?"v":"c",0.78);
    px(cx-1,cy-18,2,30);
    px(cx-10,cy-6,8,2); px(cx+2,cy-6,8,2);
    px(cx-14,cy-12,10,2); px(cx+4,cy-12,10,2);
    // roots
    px(cx-12,cy+12,10,2); px(cx+2,cy+12,10,2);
    px(cx-16,cy+16,8,2); px(cx+8,cy+16,8,2);
    ctx.fillStyle = "rgba(255,255,255,.55)";
    px(cx,cy-20,1,1);
  }else{
    // spiral / glitch coil
    ctx.fillStyle = stroke(card.tag==="violet"?"v":"c",0.78);
    let x=cx, y=cy, step=1, dir=0;
    for(let k=0;k<90;k++){
      px(x,y,1,1);
      if(dir===0) x++;
      if(dir===1) y++;
      if(dir===2) x--;
      if(dir===3) y--;
      if(k % step === 0){
        dir=(dir+1)%4;
        if(dir===0 || dir===2) step++;
      }
    }
    ctx.fillStyle = "rgba(255,255,255,.55)";
    px(cx,cy,2,2);
  }

  // top/bottom label strips
  ctx.fillStyle = "rgba(0,0,0,.45)";
  ctx.fillRect(6,6,W-12,10);
  ctx.fillRect(6,H-16,W-12,10);

  // tiny “card number” marks
  ctx.fillStyle = "rgba(255,255,255,.7)";
  // roman-ish ticks based on id
  const ticks = Math.max(1, (card.id % 9));
  for(let t=0;t<ticks;t++){
    px(10+t*3, 10, 1,4);
  }
  // bottom pattern
  ctx.fillStyle = stroke(card.tag==="violet"?"v":"c",0.55);
  for(let t=0;t<10;t++){
    if(rnd()<0.55) px(10+t*5, H-12, 2,1);
  }

  // small sparkle
  if(card.id===1 || card.id===2 || rnd()<0.12){
    ctx.fillStyle = "rgba(255,255,255,.65)";
    px(58,18,1,1); px(59,18,1,1); px(58,19,1,1);
  }
}

/* =========================================================
   Render visible cards
========================================================= */

function cardLabel(card){
  // keep titles minimal; you can rename later
  if(card.id===1) return "MYSTERY";
  if(card.id===2) return "TRAPPED";
  return `CARD ${String(card.id).padStart(2,"0")}`;
}

function draw(){
  grid.innerHTML = "";
  const visible = deck.slice(0, showCount);

  visible.forEach(card=>{
    const el = document.createElement("div");
    el.className = "card";
    el.innerHTML = `
      <a href="${card.href}">
        <div class="cover">
          <canvas></canvas>
        </div>
        <div class="meta">
          <h3 class="title">${cardLabel(card)}</h3>
          <p class="desc">${card.desc}</p>
          <div class="row">
            <span class="badge ${card.tag==='violet'?'v':'c'}">${card.flavor}</span>
            <span class="badge">#${card.id}/54</span>
          </div>
        </div>
      </a>
    `;
    const cv = el.querySelector("canvas");
    drawTarot(cv, card);

    // tap hold feel: quick “reshuffle draw” on right-click/long-press context
    el.addEventListener("contextmenu",(e)=>{
      e.preventDefault();
      shuffleBtn.click();
    });

    grid.appendChild(el);
  });

  // subtle message depending on mode
  if(showCount===54){
    foot.textContent = "Full deck displayed. Type a number to open instantly.";
  }else{
    foot.textContent = `Showing the top ${showCount}. Shuffle for a new draw, or type a card number (1–54) to open.`;
  }
}

/* =========================================================
   Subtle stars canvas (very light)
========================================================= */

const stage = document.getElementById("stage");
const starCv = document.getElementById("stars");
const sctx = starCv.getContext("2d");
let dpr=1, starPts=[];

function resizeStars(){
  const r = stage.getBoundingClientRect();
  dpr = Math.max(1, Math.min(2, devicePixelRatio||1));
  starCv.width = Math.floor(r.width*dpr);
  starCv.height = Math.floor(r.height*dpr);
  starCv.style.width = r.width+"px";
  starCv.style.height = r.height+"px";

  // regenerate points
  starPts = [];
  const n = Math.floor((r.width*r.height)/12000);
  for(let i=0;i<n;i++){
    starPts.push({
      x: Math.random()*r.width,
      y: Math.random()*r.height,
      a: 0.05 + Math.random()*0.12,
      s: 1 + Math.random()*1
    });
  }
  paintStars();
}
addEventListener("resize", resizeStars);
resizeStars();

function paintStars(){
  const r = stage.getBoundingClientRect();
  sctx.setTransform(dpr,0,0,dpr,0,0);
  sctx.clearRect(0,0,r.width,r.height);

  for(const p of starPts){
    const violet = Math.random()<0.12;
    const col = violet ? `rgba(138,46,255,${p.a})` : `rgba(255,255,255,${p.a})`;
    sctx.fillStyle = col;
    sctx.fillRect(p.x, p.y, p.s, p.s);
  }
}

/* =========================================================
   Init
========================================================= */
setMode(modeIndex);
draw();
</script>

</body>
</html>
